I=lambda:input().split()
N=int
*_,y,z,_,_,x=map(N,I())
e=dict(map(N,I())for _ in range(x))
while 1:print("BLOCK"if(t:=(z if(f:=N((a:=I())[0]))==y else e.get(f)))and((p:=N(a[1]))<t and a[2]<"M"or p>t and a[2]>"M")else"WAIT")
