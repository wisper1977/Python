f,*_,c,g,_,a,e=map(int,input().split());h={k:l for k,l in(map(int,input().split())for _ in range(e))}
while 1:b,p,d=input().split();b,p=int(b),int(p);m=g if b==c else h.get(b);print("BLOCK"if m and(p<m and d=="LEFT"or p>m and d=="RIGHT")else"WAIT")
