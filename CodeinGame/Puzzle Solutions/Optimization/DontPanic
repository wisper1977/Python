I=lambda:input().split()
N=int
*_,y,x,_,_,n=map(N,I())
e={N(f):N(p)for f,p in(I()for _ in range(n))}|{y:x}
while 1:j,k,d=I();j,k=N(j),N(k);print("BLOCK"if(k<(f:=e.get(j,y))and d<"M")or(k>f and d>"M")else"WAIT")
